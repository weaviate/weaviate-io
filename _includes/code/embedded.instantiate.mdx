import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import FilteredTextBlock from '@site/src/components/Documentation/FilteredTextBlock';
import PyCode from '!!raw-loader!/_includes/code/install/embedded.py';

<Tabs groupId="languages">
<TabItem value="py" label="Python (v4)">

There are two ways to instantiate a Python client:

- `connect_to_embedded()` If you don't need to pass custom connection information, use this method.
- `WeaviateClient()` If you need to pass custom connection information, use this method.


Connect with `connect_to_embedded()`.

<FilteredTextBlock
  text={PyCode}
  startMarker="# START SimpleInstantiationEmbedded"
  endMarker="# END SimpleInstantiationEmbedded"
  language="py"
/>

Connect with `WeaviateClient()`.

<FilteredTextBlock
  text={PyCode}
  startMarker="# START FullInstantiationEmbedded"
  endMarker="# END FullInstantiationEmbedded"
  language="py"
/>

To avoid connection errors with `WeaviateClient()`, use `client.close()` or a context manager to close your client connections before you exit your script or application.

</TabItem>
<TabItem value="py3" label="Python (V3)">

  ```python
  import weaviate
  from weaviate.embedded import EmbeddedOptions

  client = weaviate.Client(
    embedded_options=EmbeddedOptions()
  )

  data_obj = {
    "name": "Chardonnay",
    "description": "Goes with fish"
  }

  client.data_object.create(data_obj, "Wine")
  ```

  </TabItem>
  <TabItem value="js" label="JavaScript / TypeScript">

  ```ts
  import weaviate, { EmbeddedOptions } from 'weaviate-ts-embedded';

  const client = weaviate.client(new EmbeddedOptions());

  await client.embedded.start();

  const response = await client.data
    .creator()
    .withClassName('Wine')
    .withProperties({
      name: 'Chardonnay',
      description: 'Goes with fish',
    })
    .do();

  console.log(JSON.stringify(response, null, 2));
  ```

  </TabItem>
</Tabs>
