---
title: Custom connections
sidebar_position: 20
image: og/docs/connect.jpg
# tags: ['getting started', 'connect']
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

import WCSWithoutAuthentication from '/_includes/code/wcs.without.authentication.mdx';
import WCSAuthenticationApiKey from '/_includes/code/wcs.authentication.api.key.mdx';
import WCSAuthenticationUserPass from '/_includes/code/wcs.authentication.user.pass.mdx';
import WCSAuthenticationApiKeyWithInferenceKey from '/_includes/code/wcs.authentication.api.key.with.inference.key.mdx';
import EmbeddedInstantiationSimple from '/_includes/code/embedded.instantiate.simple.mdx';
import FilteredTextBlock from '@site/src/components/Documentation/FilteredTextBlock';
import PyCode from '!!raw-loader!/_includes/code/tutorials/connect.py';
import PyClientCode from '!!raw-loader!/_includes/code/client-libraries/python_v4.py';

Follow these steps to connect to a locally hosted Weaviate Core instance.


**Docker and Kubernetes** If you are using Docker or Kubernetes, your URL will depend on how the container is configured to provide access.

- For Docker Compose, see `docker-compose.yml`.
- For Kubernetes, see `values.yaml` in the Helm chart.

Docker instances by default use the `http://localhost:8080` address.

### Environment variables

These examples use environment variables to store connection details and sensitive information such as API keys.

To set environment variables, use the following syntax, where `WEAVIATE_URL` is the environment variable name and `http://localhost:8080` is the value:

<Tabs groupId="languages">
<TabItem value="bash" label="Bash/Zsh">

```bash
export WEAVIATE_URL="http://localhost:8080"
```

</TabItem>
<TabItem value="powershell" label="Windows PowerShell">

```shell
$Env:WEAVIATE_URL="http://localhost:8080"
```

</TabItem>
<TabItem value="cmd" label="Windows Command Prompt">

```shell
set WEAVIATE_URL=http://localhost:8080
```

</TabItem>
</Tabs>

Then, they can be accessed as follows.

This method is more secure than hardcoding sensitive information in your code, which is shown the commented-out examples below as what not to do.

<Tabs groupId="languages">
<TabItem value="py4" label="Python">
    <FilteredTextBlock
        text={PyCode}
        startMarker="# APIKeys"
        endMarker="# END APIKeys"
        language="py"
    />
</TabItem>
<TabItem value="js" label=”JS/TS Client v2”>

```js
const weaviateUrl = process.env.WEAVIATE_URL;
const weaviateKey = process.env.WEAVIATE_API_KEY;

// Uncomment and use these lines if you want to hardcode (not recommended for production)
// const weaviateUrl = "<your-weaviate-url>";
// const weaviateKey = "<your-weaviate-apikey>";
```

</TabItem>
<TabItem value="go" label="Go">

```go
weaviateUrl := os.Getenv("WEAVIATE_URL")
weaviateKey := os.Getenv("WEAVIATE_API_KEY")

// Uncomment and use these lines if you want to hardcode (not recommended for production)
// weaviateUrl = "<your-weaviate-url>"
// weaviateKey = "<your-weaviate-apikey>"
```

</TabItem>
<TabItem value="java" label="Java">

```java
String weaviateUrl = System.getenv("WEAVIATE_URL");
String weaviateKey = System.getenv("WEAVIATE_API_KEY");

// Uncomment and use these lines if you want to hardcode (not recommended for production)
// weaviateUrl = "<your-weaviate-url>";
// weaviateKey = "<your-weaviate-apikey>";
```

</TabItem>
</Tabs>

## Connect without authentication

:::warning Use authentication
Do not expose your Weaviate instance to the public internet if authentication is not enabled. If you do not enable authentication, anyone who has the URL can access your Weaviate instance.
:::

To connect to Weaviate without authentication, follow these examples:

<WCSWithoutAuthentication/>

## Authentication enabled

If authentication is enabled, use a Weaviate API key or OIDC credentials to connect.

For details, see [Authentication](../configuration/authentication.md).

#### Weaviate API keys

To authenticate with a Weaviate API key, follow these examples.

Configure your [environment variables](#environment-variables) or edit the example code to use your Weaviate API key. Be sure to use your Weaviate API key and not the API key for a third-party service like Cohere, Hugging Face, or OpenAI.

<WCSAuthenticationApiKey/>

#### OpenID Connect (OIDC)

To authenticate with OIDC, follow these examples:

<WCSAuthenticationUserPass/>

OIDC providers use a variety of authentication configurations. The example shows a typical OIDC configuration, but your identity provider may use a different configuration. For details, see [OIDC authentication](../configuration/authentication.md#oidc---a-systems-perspective).

### Timeouts

For [gRPC-enabled](../api/grpc.md) clients, you can set timeout values for initialization, queries or insertions independently. If you are experiencing timeouts, adjust these values to suit your use case.

<Tabs groupId="languages">
    <TabItem value="py4" label="Python Client v4">
        <FilteredTextBlock
        text={PyClientCode}
        startMarker="# LocalInstantiationWithTimeout"
        endMarker="# END LocalInstantiationWithTimeout"
        language="py"
        />
    </TabItem>
</Tabs>


## Third party API keys

Modules that use external APIs often need API keys. The Weaviate clients send these keys as additional headers.

To add third party API keys, follow these examples:

<WCSAuthenticationApiKeyWithInferenceKey/>

## Questions and feedback

import DocsFeedback from '/_includes/docs-feedback.mdx';

<DocsFeedback/>
