---
title: A little more about GraphQL
sidebar_position: 99
---

import imageUrl from '../../tmp_images/academy_placeholder.jpg';

## <i class="fa-solid fa-square-chevron-right"></i> About GraphQL

<img src={imageUrl} alt="Image alt" width="75%"/>

Here, we'll pause a little bit to talk about why we use GraphQL, and what to keep in mind when using GraphQL with Weaviate.

### <i class="fa-solid fa-chalkboard"></i> Query structure

One of the key benefits of GraphQL is that it allows the user to specify the exact data that they want to retrieve. This means that the user can request only the data that they need, reducing over-fetching or under-fetching of data.

Let's review the fundamental syntax of GraphQL in Weaviate.

```graphql
{
  <Function> {
    <Class> {
      <properties>
    }
  }
}
```

You can see that a Weaviate GraphQL query contains multiple components. If you were to query a database of Wikipedia articles objects, the fields in the above query might be as follows:

* `<Function>`: The function that you want to use, such as `Get`, `Aggregate`, or `Explore`.
* `<Class>`: The class that you want to retrieve data from, such as `WikiArticle`.
* `<properties>`: The properties that you want to retrieve, such as `title`, `wiki_summary`.

Each field can also accept arguments, such as `limit` to limit the number of objects to be returned, or `where` to apply a filter.

The data flow with a GraphQL query can be conceptualized like this:

![](https://kinsta.com/wp-content/uploads/2022/09/graphql.png)

This specificity may seem challenging at first. However, it is a powerful feature that allows you to build highly customized queries, and to retrieve only the data that you need.

It is also highly efficient, as what may have taken multiple requests in a REST API can be done in a single GraphQL query.

### <i class="fa-solid fa-chalkboard"></i> Query syntax

For the most part GraphQL is very flexible in terms of formatting, such that [whitespaces](https://spec.graphql.org/October2021/#sec-White-Space) and [commas](https://spec.graphql.org/October2021/#sec-Insignificant-Commas) are typically insignificant. For instance, the queries below are interpreted identically:

This query:

```graphql
{
  Get {
    JeopardyQuestion (limit: 1) {
      question
      answer
    }
  }
}
```

Is the same as:

```graphql
{Get{JeopardyQuestion(limit:1){question answer}}}
```

Or even (notice the comma):

```graphql
{Get{JeopardyQuestion(limit:1){question,answer}}}
```

However, importantly, names in GraphQL [are case-sensitive](https://spec.graphql.org/October2021/#sec-Names), so `Get` and `JeopardyQuestion` are different from `get` and `jeopardyquestion`.

<Quiz questions={graphQLSyntax} />

<!-- ## <i class="fa-solid fa-square-chevron-right"></i> GraphQL arguments

<img src={imageUrl} alt="Image alt" width="75%"/>

In GraphQL, we can provide further `arguments` to provide further restrictions to our query. In fact, you have already seen in it action with the `limit` argument above.

### <i class="fa-solid fa-chalkboard"></i> Argument syntax in GraphQL

Arguments are provided in GraphQL as a comma-separated list of key-value pairs, enclosed in parentheses. Recall the following example for the `Get` function:

```graphql
{
  Get {
    JeopardyQuestion (limit: 1) {
      question
      answer
    }
  }
}
```

This specifies a key `limit` with value `1` to specify the maximum number of objects to be returned.

### <i class="fa-solid fa-chalkboard"></i> Uses of arguments

Arguments are used in Weaviate to provide additional search operators and filters. It can be used to:

- Limit the number of results
- Specify a search vector
- Prompt generative search results
- Add filters
- Sort the output
- And more

We'll take a closer look at the arguments in greater detail in later sections.

<Quiz questions={varName} /> -->

## <i class="fa-solid fa-square-chevron-right"></i> Review

<img src={imageUrl} alt="Image alt" width="75%"/>

Each section should have a quick recap/review video of about a minute.

### <i class="fa-solid fa-pen-to-square"></i> Review exercise

**Aspirational section.** Would like to have the user provide a freeform input, and get back a similarity score and our definition.

:::info TODO
Can you describe, in your own sentence, XXX?

Input box -> vectorizer -> compare to model answer.
:::

### <i class="fa-solid fa-lightbulb-on"></i> Key takeaways

:::info
Add summary
:::

import Quiz from '/src/components/Academy/quiz.js'
const graphQLSyntax = [{
  questionText: 'Which of the following is true about GraphQL?',
  answerOptions: [
    {
      answerText: 'It is not case-sensitive.',
      isCorrect: false,
      feedback: 'GraphQL is case sensitive.',
    },
    {
      answerText: 'Whitespaces are typically ignored.',
      isCorrect: true,
      feedback: 'This is also the case with commas.',
    },
    {
      answerText: 'GraphQL always returns the same fields in the response.',
      isCorrect: false,
      feedback: 'As you have seen in our Get queries previously, you must specify the fields to be returned in GraphQL.',
    },
  ]
}];
