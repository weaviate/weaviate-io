---
title: Manage roles and users
sidebar_label: Manage roles & users
sidebar_position: 1
image: og/docs/configuration.jpg
# tags: ['rbac', 'roles', 'configuration', 'authorization']
---

import Link from '@docusaurus/Link';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import FilteredTextBlock from '@site/src/components/Documentation/FilteredTextBlock';
import PyCode from '!!raw-loader!/_includes/code/python/howto.configure.rbac.permissions.py';
import RolePyCode from '!!raw-loader!/_includes/code/python/howto.configure.rbac.roles.py';

:::info Available from `v1.29`
Role-based access control (RBAC) is generally available in Weaviate from version `v1.29`.
:::

In Weaviate, Role-based access control (RBAC) allows you to define roles and assign permissions to those roles. Users can then be assigned to roles and inherit the permissions associated with those roles. On this page, you will find examples of how to manage roles and users with Weaviate client libraries.

Follow these general steps to configure RBAC:

<!-- TODO: Potentially replace with a React component -->

<ol className="step-list">
  <li>
    <i className="fa-solid fa-key icon-list" style={{ marginRight: '0.5rem' }}></i>
    <b>Step 1.</b> Connect to Weaviate with a user possessing{' '}
    <b>
      <Link to="#requirements">role management permissions</Link>
    </b>
    .
  </li>
  <li>
    <i
      className="fa-solid fa-user-shield icon-list"
      style={{ marginRight: '0.5rem' }}
    ></i>
    <b>Step 2.</b> Grant permissions to a{' '}
    <b>
      <Link to="#create-new-roles-with-permissions">new role</Link>
    </b>{' '}
    or an{' '}
    <b>
      <Link to="#grant-additional-permissions">existing role</Link>
    </b>
    .
  </li>
  <li>
    <i
      className="fa-solid fa-user-edit icon-list"
      style={{ marginRight: '0.5rem' }}
    ></i>
    <b>Step 3.</b>{' '}
    <b>
      <Link to="#assign-a-role-to-a-user">Assign the role to a user</Link>
    </b>
    .
  </li>
</ol>

## Requirements for managing roles <i class="fa-solid fa-key"></i> {#requirements}

Role management requires appropriate `role` resource permissions that can be obtained through:

- A predefined `root` role when [configuring RBAC](/developers/weaviate/configuration/rbac/configuration).
- A role with [`Role Management`](#role-management-permissions) permissions granted.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={RolePyCode}
      startMarker="# START AdminClient"
      endMarker="# END AdminClient"
      language="py"
    />
  </TabItem>
  <TabItem value="js" label="JS/TS Client v3">

```ts
// TS support coming soon
```

  </TabItem>
  <TabItem value="go" label="Go">

```go
// Go support coming soon
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
// Java support coming soon
```

  </TabItem>
</Tabs>

## Role management <i class="fa-solid fa-user-shield"></i> {#role-management}

### Create new roles with permissions

Permissions for these resource types can be assigned to roles:

1. [**Role Management**](#role-management-permissions)

1. [**Collections**](#collections-permissions) (collection definitions only, data object permissions are separate)

1. [**Tenants**](#tenants-permissions)

1. [**Data Objects**](#data-permissions)

1. [**Backup**](#backups-permissions)

1. [**Cluster Data Access**](#clusters-permissions)

1. [**Node Data Access**](#nodes-permissions)

#### Create a role with `Role Management` permissions {#role-management-permissions}

This example creates a role called `testRole` with permissions to:

- Manage all roles starting with `testRole*`.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={RolePyCode}
      startMarker="# START AddManageRolesPermission"
      endMarker="# END AddManageRolesPermission"
      language="py"
    />
  </TabItem>
  <TabItem value="js" label="JS/TS Client v3">

```ts
// TS support coming soon
```

  </TabItem>
  <TabItem value="go" label="Go">

```go
// Go support coming soon
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
// Java support coming soon
```

  </TabItem>
</Tabs>

#### Create a role with `Collections` permissions {#collections-permissions}

This example creates a role called `testRole` with permissions to:

- Create, read, update and delete all collections starting with `TargetCollection`.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={RolePyCode}
      startMarker="# START AddCollectionsPermission"
      endMarker="# END AddCollectionsPermission"
      language="py"
    />
  </TabItem>
  <TabItem value="js" label="JS/TS Client v3">

```ts
// TS support coming soon
```

  </TabItem>
  <TabItem value="go" label="Go">

```go
// Go support coming soon
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
// Java support coming soon
```

  </TabItem>
</Tabs>

#### Create a role with `Tenant` permissions {#tenants-permissions}

This example creates a role called `testRole` with permissions to:

- Create and delete tenants in collections starting with `TargetCollection`.
- Read tenant metadata (like tenant names and status) in collections starting with `TargetCollection`.
- Update tenant status in collections starting with `TargetCollection`.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={RolePyCode}
      startMarker="# START AddTenantPermission"
      endMarker="# END AddTenantPermission"
      language="py"
    />
  </TabItem>
  <TabItem value="js" label="JS/TS Client v3">

```ts
// TS support coming soon
```

  </TabItem>
  <TabItem value="go" label="Go">

```go
// Go support coming soon
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
// Java support coming soon
```

  </TabItem>
</Tabs>

#### Create a role with `Data Objects` permissions {#data-permissions}

This example creates a role called `testRole` with permissions to:

- Create, read, update and delete data from collections starting with `TargetCollection`.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={RolePyCode}
      startMarker="# START AddDataObjectPermission"
      endMarker="# END AddDataObjectPermission"
      language="py"
    />
  </TabItem>
  <TabItem value="js" label="JS/TS Client v3">

```ts
// TS support coming soon
```

  </TabItem>
  <TabItem value="go" label="Go">

```go
// Go support coming soon
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
// Java support coming soon
```

  </TabItem>
</Tabs>

#### Create a role with `Backups` permissions {#backups-permissions}

This example creates a role called `testRole` with permissions to:

- Manage backups for collections starting with `TargetCollection`.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={RolePyCode}
      startMarker="# START AddBackupPermission"
      endMarker="# END AddBackupPermission"
      language="py"
    />
  </TabItem>
  <TabItem value="js" label="JS/TS Client v3">

```ts
// TS support coming soon
```

  </TabItem>
  <TabItem value="go" label="Go">

```go
// Go support coming soon
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
// Java support coming soon
```

  </TabItem>
</Tabs>

#### Create a role with `Cluster Data Access` permissions {#clusters-permissions}

This example creates a role called `testRole` with permissions to:

- Read cluster metadata.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={RolePyCode}
      startMarker="# START AddClusterPermission"
      endMarker="# END AddClusterPermission"
      language="py"
    />
  </TabItem>
  <TabItem value="js" label="JS/TS Client v3">

```ts
// TS support coming soon
```

  </TabItem>
  <TabItem value="go" label="Go">

```go
// Go support coming soon
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
// Java support coming soon
```

  </TabItem>
</Tabs>

#### Create a role with `Node Data Access` permissions {#nodes-permissions}

This example creates a role called `testRole` with permissions to:

- Read node metadata at the specified verbosity level for collections starting with `TargetCollection`.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={RolePyCode}
      startMarker="# START AddNodesPermission"
      endMarker="# END AddNodesPermission"
      language="py"
    />
  </TabItem>
  <TabItem value="js" label="JS/TS Client v3">

```ts
// TS support coming soon
```

  </TabItem>
  <TabItem value="go" label="Go">

```go
// Go support coming soon
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
// Java support coming soon
```

  </TabItem>
</Tabs>

### Grant additional permissions

Additional permissions can be granted to a role at any time. The role must already exist.

This example grants additional permissions to the role `testRole` to:

- **Read data** in all collections that start with `TargetCollection`.
- **Create new data** in collections that start with`TargetCollection`.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={RolePyCode}
      startMarker="# START AddRoles"
      endMarker="# END AddRoles"
      language="py"
    />
  </TabItem>
  <TabItem value="js" label="JS/TS Client v3">

```ts
// TS support coming soon
```

  </TabItem>
  <TabItem value="go" label="Go">

```go
// Go support coming soon
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
// Java support coming soon
```

  </TabItem>
</Tabs>

### Remove permissions from a role

Permissions can be revoked from a role at any time. Removing all permissions from a role will delete the role itself.

This example removes the following permissions from the role `testRole`:

- Read the data from collections that start with `TargetCollection`
- Create and delete collections that start with `TargetCollection`

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={RolePyCode}
      startMarker="# START RemovePermissions"
      endMarker="# END RemovePermissions"
      language="py"
    />
  </TabItem>
  <TabItem value="js" label="JS/TS Client v3">

```ts
// TS support coming soon
```

  </TabItem>
  <TabItem value="go" label="Go">

```go
// Go support coming soon
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
// Java support coming soon
```

  </TabItem>
</Tabs>

### Check if a role exists

Check if the role `testRole` exists:

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={RolePyCode}
      startMarker="# START CheckRoleExists"
      endMarker="# END CheckRoleExists"
      language="py"
    />
  </TabItem>
  <TabItem value="js" label="JS/TS Client v3">

```ts
// TS support coming soon
```

  </TabItem>
  <TabItem value="go" label="Go">

```go
// Go support coming soon
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
// Java support coming soon
```

  </TabItem>
</Tabs>

### Inspect a role

View the permissions assigned to a role.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={RolePyCode}
      startMarker="# START InspectRole"
      endMarker="# END InspectRole"
      language="py"
    />
  </TabItem>
  <TabItem value="js" label="JS/TS Client v3">

```ts
// TS support coming soon
```

  </TabItem>
  <TabItem value="go" label="Go">

```go
// Go support coming soon
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
// Java support coming soon
```

  </TabItem>
</Tabs>

### List all roles

View all roles in the system and their permissions.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={RolePyCode}
      startMarker="# START ListAllRoles"
      endMarker="# END ListAllRoles"
      language="py"
    />
  </TabItem>
  <TabItem value="js" label="JS/TS Client v3">

```ts
// TS support coming soon
```

  </TabItem>
  <TabItem value="go" label="Go">

```go
// Go support coming soon
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
// Java support coming soon
```

  </TabItem>
</Tabs>

### List users with a role

List all users who have the role `testRole`.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={RolePyCode}
      startMarker="# START AssignedUsers"
      endMarker="# END AssignedUsers"
      language="py"
    />
  </TabItem>
  <TabItem value="js" label="JS/TS Client v3">

```ts
// TS support coming soon
```

  </TabItem>
  <TabItem value="go" label="Go">

```go
// Go support coming soon
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
// Java support coming soon
```

  </TabItem>
</Tabs>

### Delete a role

Deleting a role will remove it from the system, and revoke the associated permissions from all users who had this role.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={RolePyCode}
      startMarker="# START DeleteRole"
      endMarker="# END DeleteRole"
      language="py"
    />
  </TabItem>
  <TabItem value="js" label="JS/TS Client v3">

```ts
// TS support coming soon
```

  </TabItem>
  <TabItem value="go" label="Go">

```go
// Go support coming soon
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
// Java support coming soon
```

  </TabItem>
</Tabs>

## User management <i class="fas fa-user-edit"></i> {#user-management}

### Assign a role to a user

A custom user can have any number of roles assigned to them (including none). The role can be a predefined role (e.g. `viewer`) or a custom role.

This example assigns the custom `testRole` role and predefined `viewer` role to `user-b`.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
  <FilteredTextBlock
    text={RolePyCode}
    startMarker="# START AssignRole"
    endMarker="# END AssignRole"
    language="py"
  />
  </TabItem>
  <TabItem value="js" label="JS/TS Client v3">

```ts
// TS support coming soon
```

  </TabItem>
  <TabItem value="go" label="Go">

```go
// Go support coming soon
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
// Java support coming soon
```

  </TabItem>
</Tabs>

### Remove a role from a user

You can revoke one or more roles from a specific user.

This example removes the role `testRole` from the user `user-b`.

<Tabs groupId="languages">
<TabItem value="py" label="Python Client v4">
  <FilteredTextBlock
    text={RolePyCode}
    startMarker="# START RevokeRoles"
    endMarker="# END RevokeRoles"
    language="py"
    />
  </TabItem>
  <TabItem value="js" label="JS/TS Client v3">

```ts
// TS support coming soon
```

  </TabItem>
  <TabItem value="go" label="Go">

```go
// Go support coming soon
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
// Java support coming soon
```

  </TabItem>
</Tabs>

### Get the current user's roles and permissions

Retrieve the role and permission information for the currently authenticated user.

<Tabs groupId="languages">
<TabItem value="py" label="Python Client v4">
  <FilteredTextBlock
    text={RolePyCode}
    startMarker="# START ListCurrentUserRoles"
    endMarker="# END ListCurrentUserRoles"
    language="py"
  />
</TabItem>
  <TabItem value="js" label="JS/TS Client v3">

```ts
// TS support coming soon
```

  </TabItem>
  <TabItem value="go" label="Go">

```go
// Go support coming soon
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
// Java support coming soon
```

  </TabItem>
</Tabs>

### Get a user's roles and permissions

Retrieve the role and permission information for any user.

<Tabs groupId="languages">
<TabItem value="py" label="Python Client v4">
  <FilteredTextBlock
    text={RolePyCode}
    startMarker="# START ListUserRoles"
    endMarker="# END ListUserRoles"
    language="py"
    />
  </TabItem>
  <TabItem value="js" label="JS/TS Client v3">

```ts
// TS support coming soon
```

  </TabItem>
  <TabItem value="go" label="Go">

```go
// Go support coming soon
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
// Java support coming soon
```

  </TabItem>
</Tabs>

## Additional resources

- [RBAC: Overview](/developers/weaviate/configuration/rbac)
- [RBAC: Configuration](/developers/weaviate/configuration/rbac/configuration)

## Questions and feedback

import DocsFeedback from '/_includes/docs-feedback.mdx';

<DocsFeedback />
