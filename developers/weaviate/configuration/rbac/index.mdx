---
title: RBAC Overview
sidebar_label: RBAC
sidebar_position: 0
image: og/docs/configuration.jpg
# tags: ['rbac', 'roles', 'configuration', 'authorization']
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import FilteredTextBlock from '@site/src/components/Documentation/FilteredTextBlock';
import PyCode from '!!raw-loader!/_includes/code/python/howto.configure.rbac.permissions.py';

:::info Available from `v1.29`
Role-based access control (RBAC) was added in Weaviate version `v1.29`.
:::

Weaviate provides differentiated access through [authorization](/developers/weaviate/configuration/authorization) levels, based on the [authenticated](/developers/weaviate/configuration/authentication) user identity.

If role-based access control (RBAC) is enabled, access can be further restricted based on the roles of users. In Weaviate, RBAC allows you to define roles and assign permissions to those roles. Users can then be assigned to roles, and inherit the permissions associated with those roles.

Roles and permissions can be managed through the Weaviate **[REST API](/developers/weaviate/api/rest#tag/authz)** directly, or through a **[client library](/developers/weaviate/configuration/rbac/manage-roles-users)** programmatically.

## Roles

### Predefined roles

Weaviate comes with a set of predefined roles. These roles are:

- `root`: The root role has **full access** to all resources in Weaviate.
- `viewer`: The viewer role has **read-only access** to all resources in Weaviate.

The `root` role can be assigned through the Weaviate configuration file using the [`AUTHORIZATION_RBAC_ROOT_USERS`](/developers/weaviate/config-refs/env-vars#rbac-authorization) environment variable. A predefined role cannot be modified. The user can, however, be assigned additional roles through the Weaviate API.

All roles can also be assigned through the Weaviate API, including the predefined role. The predefined roles cannot be modified, but they can be assigned to or revoked from users.

Refer to the [authorization](./authorization.md) page for more information on how to assign predefined roles to users.

### Custom roles

Any authenticated user that is not assigned a predefined role has no roles or permissions by default.

These users' permissions can be modified through Weaviate by those with the appropriate permissions for **managing roles**. This allows for the creation of custom roles, which can be assigned to users as needed.

Role management requires appropriate `role` resource permissions through a predefined `root` role or a role with [`manage_roles` permission](#role-management).

:::caution Role Management Permissions
Be careful when assigning permissions to roles that manage roles. These permissions can be used to escalate privileges by assigning additional roles to users. Only assign these permissions to trusted users.
:::

## Permissions

Permissions in Weaviate define what actions users can perform on specific resources. Each permission consists of:

- A resource type (e.g., collections, objects)
- Access levels (read, write, update, delete, manage)
- Optional resource-specific constraints

### Available permissions

Permissions can be defined for the following resources:

import Link from '@docusaurus/Link';

<table>
  <colgroup>
    <col style={{ width: '30%' }} />
    <col style={{ width: '40%' }} />
    <col style={{ width: '30%' }} />
  </colgroup>
  <thead>
    <tr>
      <th>Resource type</th>
      <th>Access levels</th>
      <th>Optional resourceâ€‘specific constraints</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td rowspan="2"><strong><Link to="#role-management">Role Management</Link></strong></td>
      <td>Read roles</td>
      <td rowspan="2">
        <p>Scope:</p>
        <ul>
          <li><strong>all</strong>: Allow role management with all permissions</li>
          <li><strong>match</strong>: Only allow role management with the current user's permission level</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>Manage roles</td>
    </tr>
    <tr>
      <td rowspan="4">
        <strong><Link to="#role-management-collections">Collections</Link></strong><br />
      </td>
      <td>Create collections</td>
      <td rowspan="4"></td>
    </tr>
    <tr>
      <td>Read collection definitions</td>
    </tr>
    <tr>
      <td>Update collection definitions</td>
    </tr>
    <tr>
      <td>Delete collections</td>
    </tr>
    <tr>
      <td rowspan="4"><strong><Link to="#role-management-tenants">Tenants</Link></strong></td>
      <td>Create tenants</td>
      <td rowspan="4"></td>
    </tr>
    <tr>
      <td>Read tenant info</td>
    </tr>
    <tr>
      <td>Update tenants</td>
    </tr>
    <tr>
      <td>Delete tenants</td>
    </tr>
    <tr>
      <td rowspan="4"><strong><Link to="#role-management-data">Data Objects</Link></strong></td>
      <td>Read objects</td>
      <td rowspan="4"></td>
    </tr>
    <tr>
      <td>Create objects</td>
    </tr>
    <tr>
      <td>Update objects</td>
    </tr>
    <tr>
      <td>Delete objects</td>
    </tr>
    <tr>
      <td><strong><Link to="#role-management-backup">Backup</Link></strong></td>
      <td>Manage backups</td>
      <td></td>
    </tr>
    <tr>
      <td><strong><Link to="#role-management-clusters">Cluster Data Access</Link></strong></td>
      <td>Read cluster metadata</td>
      <td></td>
    </tr>
    <tr>
      <td><strong><Link to="#role-management-nodes">Node Data Access</Link></strong></td>
      <td>Read node metadata</td>
      <td>
        <p>Verbosity level:</p>
        <ul>
          <li><strong>minimal</strong>: Minimal read permission for all collections.</li>
          <li><strong>verbose</strong>: Verbose read permission for specified collections.</li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>



### Permission behavior

When defining permissions, setting a permission to `False` indicates that the permission is *not set*, rather than explicitly denying access. This means that if a user has multiple roles, and one role grants a permission while another sets it to `False`, the user will still have that permission through the role that grants it.

For example, if a user has two roles:
- Role A sets `read` to `False` for Collection X
- Role B sets `read` to `True` for Collection X

The user will have read access to Collection X because Role B grants the permission, while Role A's `False` value simply indicates no permission is set rather than blocking access.

#### Wildcards in permissions

Many permissions require a collection name filter, to specify which collections the permission applies to.

In this case, `"*"` acts as a multi-character wildcard. As an example, setting a permission with `"Test_*"` as the collection filter would apply that permission to all collections that start with `Test_`. Or, setting a permission with `"*"` as the collection filter would apply that permission to all available collections.

### Collection and tenant permissions

A collection permission is independent of tenant permissions.

To have permissions to operate on a tenant that belongs to a collection, the user must have the appropriate tenant-level permissions for that collection. Collection-level permissions, such as that to create collections, do not grant the equivalent tenant-level permissions, such as that to create tenants for that collection.

For example, to create a tenant in a collection called `Test_Collection`, the user must have permission to "create" tenants in that collection. This is separate from the permission to create a collection called `Test_Collection`.

## Examples

### Example: Read and write permissions

#### Create a new permission

This grants read and write permissions for collections starting with `TargetCollection`, and read permissions to nodes and cluster metadata.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START ReadWritePermissionDefinition"
      endMarker="# END ReadWritePermissionDefinition"
      language="py"
    />
  </TabItem>
  <TabItem value="js" label="JS/TS Client v3">

```ts
// TS support coming soon
```

  </TabItem>
  <TabItem value="go" label="Go">

```go
// Go support coming soon
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
// Java support coming soon
```

  </TabItem>
</Tabs>

#### Assign the permission to a user

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START ReadWritePermissionAssignment"
      endMarker="# END ReadWritePermissionAssignment"
      language="py"
    />
  </TabItem>
  <TabItem value="js" label="JS/TS Client v3">

```ts
// TS support coming soon
```

  </TabItem>
  <TabItem value="go" label="Go">

```go
// Go support coming soon
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
// Java support coming soon
```

  </TabItem>
</Tabs>

### Example: Viewer permissions

#### Create a new permission

This grants viewer permissions for collections starting with `TargetCollection`.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START ViewerPermissionDefinition"
      endMarker="# END ViewerPermissionDefinition"
      language="py"
    />
  </TabItem>
  <TabItem value="js" label="JS/TS Client v3">

```ts
// TS support coming soon
```

  </TabItem>
  <TabItem value="go" label="Go">

```go
// Go support coming soon
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
// Java support coming soon
```

  </TabItem>
</Tabs>

#### Assign the permission to a user

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START ViewerPermissionAssignment"
      endMarker="# END ViewerPermissionAssignment"
      language="py"
    />
  </TabItem>
  <TabItem value="js" label="JS/TS Client v3">

```ts
// TS support coming soon
```

  </TabItem>
  <TabItem value="go" label="Go">

```go
// Go support coming soon
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
// Java support coming soon
```

  </TabItem>
</Tabs>

### Example: Tenant permissions

#### Create a new permission

This grants permissions to manage collections starting with `TargetCollection`, and to create, read, and update tenants in the same collection.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START MTPermissionsExample"
      endMarker="# END MTPermissionsExample"
      language="py"
    />
  </TabItem>
  <TabItem value="js" label="JS/TS Client v3">

```ts
// TS support coming soon
```

  </TabItem>
  <TabItem value="go" label="Go">

```go
// Go support coming soon
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
// Java support coming soon
```

  </TabItem>
</Tabs>

#### Assign the permission to a user

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START MTPermissionsAssignment"
      endMarker="# END MTPermissionsAssignment"
      language="py"
    />
  </TabItem>
  <TabItem value="js" label="JS/TS Client v3">

```ts
// TS support coming soon
```

  </TabItem>
  <TabItem value="go" label="Go">

```go
// Go support coming soon
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
// Java support coming soon
```

  </TabItem>
</Tabs>
