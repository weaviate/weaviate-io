---
title: BM25 search
sidebar_position: 3
image: og/docs/howto.jpg
# tags: ['how to', 'perform a similarity search']
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import FilteredTextBlock from '@site/src/components/Documentation/FilteredTextBlock';
import PythonCode from '!!raw-loader!/_includes/code/howto/bm25.py';
import TypeScriptCode from '!!raw-loader!/_includes/code/howto/bm25.ts';

## Overview

This page shows you how to perform keyword searches using Weaviate using the `bm25` parameter. The `bm25` parameter uses the [BM25F](https://en.wikipedia.org/wiki/Okapi_BM25) ranking function to score the results.

:::info Related pages
- [API References: Vector search parameters # BM25](../api/graphql/vector-search-parameters.md#bm25)
:::

import BasicPrereqs from '/_includes/prerequisites-quickstart.md';

<BasicPrereqs />

## Search syntax

### Basic BM25 search

The simplest search with BM25 will search through all object properties.

The below example searches for objects containing the keyword `food` anywhere, ranks them using BM25F, and returns the top 3.

<Tabs groupId="languages">
<TabItem value="graphql" label="GraphQL">
<FilteredTextBlock
  text={PythonCode}
  startMarker="# BM25BasicGraphQL"
  endMarker="# END BM25BasicGraphQL"
  language="graphql"
/>
</TabItem>
<TabItem value="py" label="Python">
<FilteredTextBlock
  text={PythonCode}
  startMarker="# BM25BasicPython"
  endMarker="# END BM25BasicPython"
  language="python"
/>
</TabItem>
<TabItem value="ts" label="TypeScript">
<FilteredTextBlock
  text={TypeScriptCode}
  startMarker="// searchBM25Basic"
  endMarker="// END searchBM25Basic"
  language="typescript"
/>
</TabItem>
</Tabs>

<details>
  <summary>Example response</summary>

It should produce a response such as this:

<FilteredTextBlock
  text={PythonCode}
  startMarker="# Expected BM25Basic results"
  endMarker="# END Expected BM25Basic results"
  language="python"
/>

</details>

### Selected properties only

You can specify the object `properties` to search in.

The below example searches for objects containing the keyword `food` in the `question` property only, ranks them using BM25F scores of the searched property, and returns the top 3.

<Tabs groupId="languages">
<TabItem value="graphql" label="GraphQL">
<FilteredTextBlock
  text={PythonCode}
  startMarker="# BM25WithPropertiesGraphQL"
  endMarker="# END BM25WithPropertiesGraphQL"
  language="graphql"
/>
</TabItem>
<TabItem value="py" label="Python">
<FilteredTextBlock
  text={PythonCode}
  startMarker="# BM25WithPropertiesPython"
  endMarker="# END BM25WithPropertiesPython"
  language="python"
/>
</TabItem>
<TabItem value="ts" label="TypeScript">
<FilteredTextBlock
  text={TypeScriptCode}
  startMarker="// searchBM25withProperties"
  endMarker="// END searchBM25withProperties"
  language="typescript"
/>
</TabItem>
</Tabs>

<details>
  <summary>Example response</summary>

It should produce a response such as this:

<FilteredTextBlock
  text={PythonCode}
  startMarker="# Expected BM25WithProperties results"
  endMarker="# END Expected BM25WithProperties results"
  language="python"
/>

</details>

### Weighing searched properties

You can specify weighting of object `properties` in how they affect the BM25F score.

The below example searches for objects containing the keyword `food` in the `question` property and the `answer` property. Weaviate then scores the results with `question` property's weighting boosted by 2, and returns the top 3.

<Tabs groupId="languages">
<TabItem value="graphql" label="GraphQL">
<FilteredTextBlock
  text={PythonCode}
  startMarker="# BM25WithBoostedPropertiesGraphQL"
  endMarker="# END BM25WithBoostedPropertiesGraphQL"
  language="graphql"
/>
</TabItem>
<TabItem value="py" label="Python">
<FilteredTextBlock
  text={PythonCode}
  startMarker="# BM25WithBoostedPropertiesPython"
  endMarker="# END BM25WithBoostedPropertiesPython"
  language="python"
/>
</TabItem>
<TabItem value="ts" label="TypeScript">
<FilteredTextBlock
  text={TypeScriptCode}
  startMarker="// searchBM25withBoost"
  endMarker="// END searchBM25withBoost"
  language="typescript"
/>
</TabItem>
</Tabs>

<details>
  <summary>Example response</summary>

It should produce a response such as this:

<FilteredTextBlock
  text={PythonCode}
  startMarker="# Expected BM25WithBoostedProperties results"
  endMarker="# END Expected BM25WithBoostedProperties results"
  language="python"
/>

</details>

## Add a Boolean (`where`) filter

You can add a Boolean filter as well, which will filter the outputs but not impact the ranking.

The below example searches for objects containing the keyword `food` in any field and has the `round` property of `Double Jeopardy!`, ranks them using BM25F, and returns the top 3.

<Tabs groupId="languages">
<TabItem value="graphql" label="GraphQL">
<FilteredTextBlock
  text={PythonCode}
  startMarker="# BM25WithFilterGraphQL"
  endMarker="# END BM25WithFilterGraphQL"
  language="graphql"
/>
</TabItem>
<TabItem value="py" label="Python">
<FilteredTextBlock
  text={PythonCode}
  startMarker="# BM25WithFilterPython"
  endMarker="# END BM25WithFilterPython"
  language="python"
/>
</TabItem>
<TabItem value="ts" label="TypeScript">
<FilteredTextBlock
  text={TypeScriptCode}
  startMarker="// searchBM25withFilter"
  endMarker="// END searchBM25withFilter"
  language="typescript"
/>
</TabItem>
</Tabs>

<details>
  <summary>Example response</summary>

It should produce a response such as this:

<FilteredTextBlock
  text={PythonCode}
  startMarker="# Expected BM25WithFilter results"
  endMarker="# END Expected BM25WithFilter results"
  language="python"
/>

</details>

## More Resources

import DocsMoreResources from '/_includes/more-resources-docs.md';

<DocsMoreResources />
