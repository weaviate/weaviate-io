---
title: Manage collections
sidebar_position: 5
image: og/docs/howto.jpg
# tags: ['how-to', 'CRUD', 'create', 'collections']
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import FilteredTextBlock from '@site/src/components/Documentation/FilteredTextBlock';
import PyCode from '!!raw-loader!/_includes/code/howto/manage-data.collections.py';
import PyCodeV3 from '!!raw-loader!/_includes/code/howto/manage-data.collections-v3.py';
import TSCode from '!!raw-loader!/_includes/code/howto/manage-data.collections.ts';
import TSCodeLegacy from '!!raw-loader!/_includes/code/howto/manage-data.collections-v2.ts';
import JavaCode from '!!raw-loader!/_includes/code/howto/java/src/test/java/io/weaviate/docs/manage-data.classes.java';
import GoCode from '!!raw-loader!/_includes/code/howto/go/docs/manage-data.classes_test.go';

Every object in Weaviate belongs to exactly one collection. Use the examples on this page to manage your collections.

:::note Terminology
Newer Weaviate documentation discuses "collections." Older Weaviate documentation refers to "classes" instead. Expect to see both terms throughout the documentation.
:::

## Create a collection

To create a collection, specify at least the collection name. If you don't specify any properties, [`auto-schema`](../config-refs/schema/index.md#auto-schema) creates them.

import InitialCaps from '/_includes/schemas/initial-capitalization.md'

<InitialCaps />

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START BasicCreateCollection"
      endMarker="# END BasicCreateCollection"
      language="py"
    />
  </TabItem>

  <TabItem value="py3" label="Python Client v3">
    <FilteredTextBlock
      text={PyCodeV3}
      startMarker="# START BasicCreateCollection"
      endMarker="# END BasicCreateCollection"
      language="pyv3"
    />
  </TabItem>

  <TabItem value="js" label="JS/TS Client v3">
    <FilteredTextBlock
      text={TSCode}
      startMarker="// START BasicCreateCollection"
      endMarker="// END BasicCreateCollection"
      language="ts"
    />
  </TabItem>

  <TabItem value="js2" label="JS/TS Client v2">
    <FilteredTextBlock
      text={TSCodeLegacy}
      startMarker="// START BasicCreateCollection"
      endMarker="// END BasicCreateCollection"
      language="tsv2"
    />
  </TabItem>

  <TabItem value="java" label="Java">
    <FilteredTextBlock
      text={JavaCode}
      startMarker="// START BasicCreateCollection"
      endMarker="// END BasicCreateCollection"
      language="java"
    />
  </TabItem>

  <TabItem value="go" label="Go">
    <FilteredTextBlock
      text={GoCode}
      startMarker="// START BasicCreateCollection"
      endMarker="// END BasicCreateCollection"
      language="go"
    />
  </TabItem>
</Tabs>

## Create a collection and define properties

Properties are the data fields in your collection. Each property has a name and a data type.

<details>
  <summary>
    Additional information
  </summary>

Use properties to configure additional parameters such as data type, index characteristics, or tokenization.

For details, see:

- [References: Configuration: Schema](/developers/weaviate/config-refs/schema)
- [API References: REST: Schema](/developers/weaviate/api/rest#tag/schema)
- [Available data types](../config-refs/datatypes.md)

</details>

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START CreateCollectionWithProperties"
      endMarker="# END CreateCollectionWithProperties"
      language="py"
    />
  </TabItem>

  <TabItem value="py3" label="Python Client v3">
    <FilteredTextBlock
      text={PyCodeV3}
      startMarker="# START CreateCollectionWithProperties"
      endMarker="# END CreateCollectionWithProperties"
      language="pyv3"
    />
  </TabItem>

  <TabItem value="js" label="JS/TS Client v3">
    <FilteredTextBlock
      text={TSCode}
      startMarker="// START CreateCollectionWithProperties"
      endMarker="// END CreateCollectionWithProperties"
      language="ts"
    />
  </TabItem>

  <TabItem value="js2" label="JS/TS Client v2">
    <FilteredTextBlock
      text={TSCodeLegacy}
      startMarker="// START CreateCollectionWithProperties"
      endMarker="// END CreateCollectionWithProperties"
      language="tsv2"
    />
  </TabItem>

  <TabItem value="java" label="Java">
    <FilteredTextBlock
      text={JavaCode}
      startMarker="// START CreateCollectionWithProperties"
      endMarker="// END CreateCollectionWithProperties"
      language="java"
    />
  </TabItem>

</Tabs>

## Disable auto-schema

By default, Weaviate creates missing collections and missing properties. When you configure collections manually, you have more precise control of the collection settings.

To disable [`auto-schema`](../config-refs/schema/index.md#auto-schema) set `AUTOSCHEMA_ENABLED: 'false'` in your system configuration file.

## Specify a vectorizer

Specify a `vectorizer` for a collection.

<details>
  <summary>Additional information</summary>

Collection level settings override default values and general configuration parameters such as [environment variables](../config-refs/env-vars.md).

- [Available model integrations](../model-providers/index.md)
- [Vectorizer configuration references](/developers/weaviate/config-refs/schema#vectorizer)

</details>

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START Vectorizer"
      endMarker="# END Vectorizer"
      language="py"
    />
  </TabItem>

  <TabItem value="py3" label="Python Client v3">
    <FilteredTextBlock
      text={PyCodeV3}
      startMarker="# START Vectorizer"
      endMarker="# END Vectorizer"
      language="pyv3"
    />
  </TabItem>

  <TabItem value="js" label="JS/TS Client v3">
    <FilteredTextBlock
      text={TSCode}
      startMarker="// START Vectorizer"
      endMarker="// END Vectorizer"
      language="ts"
    />
  </TabItem>

  <TabItem value="js2" label="JS/TS Client v2">
    <FilteredTextBlock
      text={TSCodeLegacy}
      startMarker="// START Vectorizer"
      endMarker="// END Vectorizer"
      language="tsv2"
    />
  </TabItem>

  <TabItem value="java" label="Java">
    <FilteredTextBlock
      text={JavaCode}
      startMarker="// START CreateCollectionWithVectorizer"
      endMarker="// END CreateCollectionWithVectorizer"
      language="java"
    />
  </TabItem>

</Tabs>


## Define multiple named vectors

:::info Added in `v1.24`
:::

You can define multiple [named vectors](../concepts/data.md#multiple-vectors-named-vectors) per collection. This allows each object to be represented by multiple vectors, each with its own vector index.

As such, each named vector configuration can include its own vectorizer and vector index settings.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START BasicNamedVectors"
      endMarker="# END BasicNamedVectors"
      language="py"
    />
  </TabItem>

  <TabItem value="py3" label="Python Client v3">
    <FilteredTextBlock
      text={PyCodeV3}
      startMarker="# START BasicNamedVectors"
      endMarker="# END BasicNamedVectors"
      language="pyv3"
    />
  </TabItem>

  <TabItem value="js" label="JS/TS Client v3">
    <FilteredTextBlock
      text={TSCode}
      startMarker="// START BasicNamedVectors"
      endMarker="// END BasicNamedVectors"
      language="ts"
    />
  </TabItem>

  <TabItem value="js2" label="JS/TS Client v2">
    <FilteredTextBlock
      text={TSCodeLegacy}
      startMarker="// START BasicNamedVectors"
      endMarker="// END BasicNamedVectors"
      language="tsv2"
    />
  </TabItem>

  <TabItem value="java" label="Java">
    <FilteredTextBlock
      text={JavaCode}
      startMarker="// START CreateCollectionWithNamedVectors"
      endMarker="// END CreateCollectionWithNamedVectors"
      language="java"
    />
  </TabItem>

</Tabs>

## Define multi-value vectors (e.g. ColBERT, ColPali)

:::caution Experimental feature
Available starting in `v1.29.0`.
<br/>

The multi-value vector feature is experimental and may change in future versions. Use with caution.
:::

Multi-value vectors, also known as tensors, represent a single object with multiple vectors. Multi-value vectors are currently only available for HNSW indexes for named vectors. To use multi-value vectors, enable it for the appropriate named vector.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START MultiValueVectorCollection"
      endMarker="# END MultiValueVectorCollection"
      language="py"
    />
  </TabItem>
</Tabs>

## Specify vectorizer settings

To configure how a vectorizer works (i.e. what model to use) with a specific collection, set the vectorizer parameters.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START ModuleSettings"
      endMarker="# END ModuleSettings"
      language="py"
    />
  </TabItem>

  <TabItem value="py3" label="Python Client v3">
    <FilteredTextBlock
      text={PyCodeV3}
      startMarker="# START ModuleSettings"
      endMarker="# END ModuleSettings"
      language="pyv3"
    />
  </TabItem>

  <TabItem value="js" label="JS/TS Client v3">
    <FilteredTextBlock
      text={TSCode}
      startMarker="// START ModuleSettings"
      endMarker="// END ModuleSettings"
      language="ts"
    />
  </TabItem>

  <TabItem value="js2" label="JS/TS Client v2">
    <FilteredTextBlock
      text={TSCodeLegacy}
      startMarker="// START ModuleSettings"
      endMarker="// END ModuleSettings"
      language="tsv2"
    />
  </TabItem>

  <TabItem value="java" label="Java">
    <FilteredTextBlock
      text={JavaCode}
      startMarker="// START ModuleSettings"
      endMarker="// END ModuleSettings"
      language="java"
    />
  </TabItem>

</Tabs>

## Set vector index type

The vector index type can be set for each collection at creation time, between `hnsw`, `flat` and `dynamic` index types.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START SetVectorIndexType"
      endMarker="# END SetVectorIndexType"
      language="py"
    />
  </TabItem>

  <TabItem value="py3" label="Python Client v3">
    <FilteredTextBlock
      text={PyCodeV3}
      startMarker="# START SetVectorIndexType"
      endMarker="# END SetVectorIndexType"
      language="pyv3"
    />
  </TabItem>

  <TabItem value="js" label="JS/TS Client v3">
    <FilteredTextBlock
      text={TSCode}
      startMarker="// START SetVectorIndexType"
      endMarker="// END SetVectorIndexType"
      language="ts"
    />
  </TabItem>

  <TabItem value="js2" label="JS/TS Client v2">
    <FilteredTextBlock
      text={TSCodeLegacy}
      startMarker="// START SetVectorIndexType"
      endMarker="// END SetVectorIndexType"
      language="tsv2"
    />
  </TabItem>

  <TabItem value="java" label="Java">
    <FilteredTextBlock
      text={JavaCode}
      startMarker="// START SetVectorIndexType"
      endMarker="// END SetVectorIndexType"
      language="java"
    />
  </TabItem>
</Tabs>

<details>
  <summary>Additional information</summary>

- Read more about index types & compression in [Concepts: Vector index](../concepts/vector-index.md).

</details>

## Set vector index parameters

Various vector index parameters are configurable at collection creation time, including [compression](../configuration/compression/index.md) and [filter strategy](../concepts/filtering.md#filter-strategy).

:::info Filter strategy parameter
Was added in `v1.27`
:::

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START SetVectorIndexParams"
      endMarker="# END SetVectorIndexParams"
      language="py"
    />
  </TabItem>

  <TabItem value="py3" label="Python Client v3">
    <FilteredTextBlock
      text={PyCodeV3}
      startMarker="# START SetVectorIndexParams"
      endMarker="# END SetVectorIndexParams"
      language="pyv3"
    />
  </TabItem>

  <TabItem value="js" label="JS/TS Client v3">
    <FilteredTextBlock
      text={TSCode}
      startMarker="// START SetVectorIndexParams"
      endMarker="// END SetVectorIndexParams"
      language="ts"
    />
  </TabItem>

  <TabItem value="js2" label="JS/TS Client v2">
    <FilteredTextBlock
      text={TSCodeLegacy}
      startMarker="// START SetVectorIndexParams"
      endMarker="// END SetVectorIndexParams"
      language="tsv2"
    />
  </TabItem>

  <TabItem value="java" label="Java">
    <FilteredTextBlock
      text={JavaCode}
      startMarker="// START SetVectorIndexParams"
      endMarker="// END SetVectorIndexParams"
      language="java"
    />
  </TabItem>
</Tabs>

<details>
  <summary>Additional information</summary>

- Read more about index types & compression in [Concepts: Vector index](../concepts/vector-index.md).

</details>

## Property-level settings

Configure individual properties in a collection. Each property can have it's own configuration. Here are some common settings:

- Vectorize the property
- Vectorize the property name
- Set a [tokenization type](../config-refs/schema/index.md#tokenization)

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START PropModuleSettings"
      endMarker="# END PropModuleSettings"
      language="py"
    />
  </TabItem>

  <TabItem value="py3" label="Python Client v3">
    <FilteredTextBlock
      text={PyCodeV3}
      startMarker="# START PropModuleSettings"
      endMarker="# END PropModuleSettings"
      language="pyv3"
    />
  </TabItem>

  <TabItem value="js" label="JS/TS Client v3">
    <FilteredTextBlock
      text={TSCode}
      startMarker="// START PropModuleSettings"
      endMarker="// END PropModuleSettings"
      language="ts"
    />
  </TabItem>

  <TabItem value="js2" label="JS/TS Client v2">
    <FilteredTextBlock
      text={TSCodeLegacy}
      startMarker="// START PropModuleSettings"
      endMarker="// END PropModuleSettings"
      language="tsv2"
    />
  </TabItem>

  <TabItem value="java" label="Java">
    <FilteredTextBlock
      text={JavaCode}
      startMarker="// START PropModuleSettings"
      endMarker="// END PropModuleSettings"
      language="java"
    />
  </TabItem>
</Tabs>

## Specify a distance metric

If you choose to bring your own vectors, you should specify the `distance metric`.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START DistanceMetric"
      endMarker="# END DistanceMetric"
      language="py"
    />
  </TabItem>

  <TabItem value="py3" label="Python Client v3">
    <FilteredTextBlock
      text={PyCodeV3}
      startMarker="# START DistanceMetric"
      endMarker="# END DistanceMetric"
      language="pyv3"
    />
  </TabItem>

  <TabItem value="js" label="JS/TS Client v3">
    <FilteredTextBlock
      text={TSCode}
      startMarker="// START DistanceMetric"
      endMarker="// END DistanceMetric"
      language="ts"
    />
  </TabItem>

  <TabItem value="js2" label="JS/TS Client v2">
    <FilteredTextBlock
      text={TSCodeLegacy}
      startMarker="// START DistanceMetric"
      endMarker="// END DistanceMetric"
      language="tsv2"
    />
  </TabItem>

  <TabItem value="java" label="Java">
    <FilteredTextBlock
      text={JavaCode}
      startMarker="// START DistanceMetric"
      endMarker="// END DistanceMetric"
      language="java"
    />
  </TabItem>
</Tabs>

<details>
  <summary>
     Additional information
  </summary>

For details on the configuration parameters, see the following:

- [Distances](../config-refs/distances.md)
- [Vector indexes](../config-refs/schema/vector-index.md)

</details>

## Set inverted index parameters

Various [inverted index parameters](../config-refs/schema/index.md#invertedindexconfig) are configurable for each collection. Some parameters are set at the collection level, while others are set at the property level.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START SetInvertedIndexParams"
      endMarker="# END SetInvertedIndexParams"
      language="py"
    />
  </TabItem>

  <TabItem value="py3" label="Python Client v3">
    <FilteredTextBlock
      text={PyCodeV3}
      startMarker="# START SetInvertedIndexParams"
      endMarker="# END SetInvertedIndexParams"
      language="pyv3"
    />
  </TabItem>

  <TabItem value="js" label="JS/TS Client v3">
    <FilteredTextBlock
      text={TSCode}
      startMarker="// START SetInvertedIndexParams"
      endMarker="// END SetInvertedIndexParams"
      language="ts"
    />
  </TabItem>

  <TabItem value="js2" label="JS/TS Client v2">
    <FilteredTextBlock
      text={TSCodeLegacy}
      startMarker="// START SetInvertedIndexParams"
      endMarker="// END SetInvertedIndexParams"
      language="tsv2"
    />
  </TabItem>
</Tabs>

## Specify a reranker model integration

Configure a [`reranker`](../concepts/search/index.md#rerank) model integration for [reranking retrieved results](../search/rerank.md).

:::info Related pages
- [Available reranker model integrations](../model-providers/index.md)
:::

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START SetReranker"
      endMarker="# END SetReranker"
      language="py"
    />
  </TabItem>

  <TabItem value="py3" label="Python Client v3">
    <FilteredTextBlock
      text={PyCodeV3}
      startMarker="# START SetReranker"
      endMarker="# END SetReranker"
      language="pyv3"
    />
  </TabItem>

  <TabItem value="js" label="JS/TS Client v3">
    <FilteredTextBlock
      text={TSCode}
      startMarker="// START SetReranker"
      endMarker="// END SetReranker"
      language="ts"
    />
  </TabItem>

  <TabItem value="js2" label="JS/TS Client v2">
    <FilteredTextBlock
      text={TSCodeLegacy}
      startMarker="// START SetReranker"
      endMarker="// END SetReranker"
      language="tsv2"
    />
  </TabItem>
</Tabs>

## Update the reranker model integration

:::info Available from `v1.25.23`, `v1.26.8` and `v1.27.1`
The `reranker` and `generative` configurations are mutable from `v1.25.23`, `v1.26.8` and `v1.27.1`.
:::

Update the [`reranker`](../concepts/search/index.md#rerank) model integration for [reranking retrieved results](../search/rerank.md).

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START UpdateReranker"
      endMarker="# END UpdateReranker"
      language="py"
    />
  </TabItem>

  <TabItem value="py3" label="Python Client v3">
    <FilteredTextBlock
      text={PyCodeV3}
      startMarker="# START UpdateReranker"
      endMarker="# END UpdateReranker"
      language="pyv3"
    />
  </TabItem>

  <TabItem value="js" label="JS/TS Client v3">
    <FilteredTextBlock
      text={TSCode}
      startMarker="// START UpdateReranker"
      endMarker="// END UpdateReranker"
      language="ts"
    />
  </TabItem>

  <TabItem value="js2" label="JS/TS Client v2">
    <FilteredTextBlock
      text={TSCodeLegacy}
      startMarker="// START UpdateReranker"
      endMarker="// END UpdateReranker"
      language="tsv2"
    />
  </TabItem>
</Tabs>

## Specify a generative model integration

Specify a `generative` model integration for a collection (for RAG).

:::info Related pages
- [Available generative model integrations](../model-providers/index.md)
:::

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START SetGenerative"
      endMarker="# END SetGenerative"
      language="py"
    />
  </TabItem>

  <TabItem value="py3" label="Python Client v3">
    <FilteredTextBlock
      text={PyCodeV3}
      startMarker="# START SetGenerative"
      endMarker="# END SetGenerative"
      language="pyv3"
    />
  </TabItem>

  <TabItem value="js" label="JS/TS Client v3">
    <FilteredTextBlock
      text={TSCode}
      startMarker="// START SetGenerative"
      endMarker="// END SetGenerative"
      language="ts"
    />
  </TabItem>

  <TabItem value="js2" label="JS/TS Client v2">
    <FilteredTextBlock
      text={TSCodeLegacy}
      startMarker="// START SetGenerative"
      endMarker="// END SetGenerative"
      language="tsv2"
    />
  </TabItem>
</Tabs>

## Specify a generative model name

Specify a generative `model name`.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START SetGenModel"
      endMarker="# END SetGenModel"
      language="py"
    />
  </TabItem>

  <TabItem value="py3" label="Python Client v3">
    <FilteredTextBlock
      text={PyCodeV3}
      startMarker="# START SetGenModel"
      endMarker="# END SetGenModel"
      language="pyv3"
    />
  </TabItem>

  <TabItem value="js" label="JS/TS Client v3">
    <FilteredTextBlock
      text={TSCode}
      startMarker="// START SetGenModel"
      endMarker="// END SetGenModel"
      language="ts"
    />
  </TabItem>

  <TabItem value="js2" label="JS/TS Client v2">
    <FilteredTextBlock
      text={TSCodeLegacy}
      startMarker="// START SetGenModel"
      endMarker="// END SetGenModel"
      language="tsv2"
    />
  </TabItem>
</Tabs>

## Update the generative model integration

:::info Available from `v1.25.23`, `v1.26.8` and `v1.27.1`
The `reranker` and `generative` configurations are mutable from `v1.25.23`, `v1.26.8` and `v1.27.1`.
:::

Update a [`generative`](../concepts/search/index.md#retrieval-augmented-generation-rag) model integration.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START UpdateGenerative"
      endMarker="# END UpdateGenerative"
      language="py"
    />
  </TabItem>

  <TabItem value="py3" label="Python Client v3">
    <FilteredTextBlock
      text={PyCodeV3}
      startMarker="# START UpdateGenerative"
      endMarker="# END UpdateGenerative"
      language="pyv3"
    />
  </TabItem>

  <TabItem value="js" label="JS/TS Client v3">
    <FilteredTextBlock
      text={TSCode}
      startMarker="// START UpdateGenerative"
      endMarker="// END UpdateGenerative"
      language="ts"
    />
  </TabItem>

  <TabItem value="js2" label="JS/TS Client v2">
    <FilteredTextBlock
      text={TSCodeLegacy}
      startMarker="// START UpdateGenerative"
      endMarker="// END UpdateGenerative"
      language="tsv2"
    />
  </TabItem>
</Tabs>

## Replication settings

import RaftRFChangeWarning from '/_includes/1-25-replication-factor.mdx';

<RaftRFChangeWarning/>

Configure replication settings, such as [async replication](../concepts/replication-architecture/consistency.md#async-replication) and [deletion resolution strategy](../concepts/replication-architecture/consistency.md#deletion-resolution-strategies).

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START AllReplicationSettings"
      endMarker="# END AllReplicationSettings"
      language="py"
      docRefs={[
        "weaviate.collections.classes.html#weaviate.collections.classes.config.Configure"
      ]}
    />
  </TabItem>

  <TabItem value="py3" label="Python Client v3">
    <FilteredTextBlock
      text={PyCodeV3}
      startMarker="# START AsyncRepair"
      endMarker="# END AsyncRepair"
      language="pyv3"
    />
  </TabItem>

  <TabItem value="js" label="JS/TS Client v3">
    <FilteredTextBlock
      text={TSCode}
      startMarker="// START AsyncRepair"
      endMarker="// END AsyncRepair"
      language="ts"
    />
  </TabItem>

  <TabItem value="js2" label="JS/TS Client v2">
    <FilteredTextBlock
      text={TSCodeLegacy}
      startMarker="// START AsyncRepair"
      endMarker="// END AsyncRepair"
      language="tsv2"
    />
  </TabItem>
  <TabItem value="curl" label="cURL">

```bash
curl \
-X POST \
-H "Content-Type: application/json" \
-d '{
    "class": "Article",
    "properties": [
        {
            "dataType": [
                "string"
            ],
            "description": "Title of the article",
            "name": "title"
        }
    ],
    "replicationConfig": {
      "factor": 3,
      "asyncEnabled": true
    }
}' \
http://localhost:8080/v1/schema
```

</TabItem>
</Tabs>

<details>
  <summary>
     Additional information
  </summary>

To use replication factors greater than one, use a [multi-node deployment](../installation/docker-compose.md#multi-node-setup).

For details on the configuration parameters, see the following:

- [Replication](/developers/weaviate/config-refs/schema#replicationconfig)

</details>

## Sharding settings

Configure sharding per collection.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START ShardingSettings"
      endMarker="# END ShardingSettings"
      language="py"
    />
  </TabItem>

  <TabItem value="py3" label="Python Client v3">
    <FilteredTextBlock
      text={PyCodeV3}
      startMarker="# START ShardingSettings"
      endMarker="# END ShardingSettings"
      language="pyv3"
    />
  </TabItem>

  <TabItem value="js" label="JS/TS Client v3">
    <FilteredTextBlock
      text={TSCode}
      startMarker="// START ShardingSettings"
      endMarker="// END ShardingSettings"
      language="ts"
    />
  </TabItem>

  <TabItem value="js2" label="JS/TS Client v2">
    <FilteredTextBlock
      text={TSCodeLegacy}
      startMarker="// START ShardingSettings"
      endMarker="// END ShardingSettings"
      language="tsv2"
    />
  </TabItem>
</Tabs>

<details>
  <summary>
     Additional information
  </summary>

For details on the configuration parameters, see the following:

- [Sharding](/developers/weaviate/config-refs/schema#shardingconfig)

</details>

## Multi-tenancy

:::info Added in `v1.20`
:::

Create a collection with multi-tenancy enabled.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START Multi-tenancy"
      endMarker="# END Multi-tenancy"
      language="py"
    />
  </TabItem>

  <TabItem value="py3" label="Python Client v3">
    <FilteredTextBlock
      text={PyCodeV3}
      startMarker="# START Multi-tenancy"
      endMarker="# END Multi-tenancy"
      language="pyv3"
    />
  </TabItem>

  <TabItem value="js" label="JS/TS Client v3">
    <FilteredTextBlock
      text={TSCode}
      startMarker="// START Multi-tenancy"
      endMarker="// END Multi-tenancy"
      language="ts"
    />
  </TabItem>

  <TabItem value="js2" label="JS/TS Client v2">
    <FilteredTextBlock
      text={TSCodeLegacy}
      startMarker="// START Multi-tenancy"
      endMarker="// END Multi-tenancy"
      language="tsv2"
    />
  </TabItem>
</Tabs>

## Read a single collection definition

Retrieve a collection definition from the schema.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START ReadOneCollection"
      endMarker="# END ReadOneCollection"
      language="py"
    />
  </TabItem>
  <TabItem value="py3" label="Python Client v3">
    <FilteredTextBlock
      text={PyCodeV3}
      startMarker="# START ReadOneCollection"
      endMarker="# END ReadOneCollection"
      language="pyv3"
    />
  </TabItem>

  <TabItem value="js" label="JS/TS Client v3">
    <FilteredTextBlock
      text={TSCode}
      startMarker="// START ReadOneCollection"
      endMarker="// END ReadOneCollection"
      language="ts"
    />
  </TabItem>

  <TabItem value="js2" label="JS/TS Client v2">
    <FilteredTextBlock
      text={TSCodeLegacy}
      startMarker="// START ReadOneCollection"
      endMarker="// END ReadOneCollection"
      language="tsv2"
    />
  </TabItem>

  <TabItem value="java" label="Java">
    <FilteredTextBlock
      text={JavaCode}
      startMarker="// START ReadOneCollection"
      endMarker="// END ReadOneCollection"
      language="java"
    />
  </TabItem>

  <TabItem value="go" label="Go">
    <FilteredTextBlock
      text={GoCode}
      startMarker="// START ReadOneCollection"
      endMarker="// END ReadOneCollection"
      language="go"
    />
  </TabItem>
</Tabs>

<details>
  <summary>Sample configuration: Text objects</summary>

This configuration for text objects defines the following:

- The collection name (`Article`)
- The vectorizer module (`text2vec-cohere`) and model (`embed-multilingual-v2.0`)
- A set of properties (`title`, `body`) with `text` data types.

```json
{
    "class": "Article",
    "vectorizer": "text2vec-cohere",
    "moduleConfig": {
        "text2vec-cohere": {
            "model": "embed-multilingual-v2.0",
        },
    },
    "properties": [
        {
            "name": "title",
            "dataType": ["text"]
        },
        {
            "name": "body",
            "dataType": ["text"]
        },
    ],
}
```

</details>

<details>
  <summary>Sample configuration: Nested objects</summary>

:::info Added in `v1.22`
:::

This configuration for nested objects defines the following:

- The collection name (`Person`)
- The vectorizer module (`text2vec-huggingface`)
- A set of properties (`last_name`, `address`)

    - `last_name` has `text` data type
    - `address` has `object` data type

- The `address` property has two nested properties (`street` and `city`)

```json
{
    "class": "Person",
    "vectorizer": "text2vec-huggingface",
    "properties": [
        {
            "dataType": ["text"],
            "name": "last_name",
        },
        {
            "dataType": ["object"],
            "name": "address",
            "nestedProperties": [
                {"dataType": ["text"], "name": "street"},
                {"dataType": ["text"], "name": "city"}
            ],
        }
    ],
}
```

</details>

<details>
  <summary>Sample configuration: Generative search</summary>

This configuration for [retrieval augmented generation](../search/generative.md) defines the following:

- The collection name (`Article`)
- The default vectorizer module (`text2vec-openai`)
- The generative module (`generative-openai`)
- A set of properties (`title`, `chunk`, `chunk_no` and `url`)
- The tokenization option for the `url` property
- The vectorization option (`skip` vectorization) for the `url` property

```json
{
    "class": "Article",
    "vectorizer": "text2vec-openai",
    "vectorIndexConfig": {
        "distance": "cosine",
    },
    "moduleConfig": {
        "generative-openai": {}
    },
    "properties": [
        {
            "name": "title",
            "dataType": ["text"]
        },
        {
            "name": "chunk",
            "dataType": ["text"]
        },
        {
            "name": "chunk_no",
            "dataType": ["int"]
        },
        {
            "name": "url",
            "dataType": ["text"],
            "tokenization": "field",
            "moduleConfig": {
                "text2vec-openai": {
                    "skip": true
                },
            }
        },
    ],
}

```

</details>

<details>
  <summary>Sample configuration: Images</summary>

This configuration for image search defines the following:

- The collection name (`Image`)
- The vectorizer module (`img2vec-neural`)

  - The `image` property configures collection to store image data.

- The vector index distance metric (`cosine`)
- A set of properties (`image`), with the `image` property set as `blob`.

For image searches, see [Image search](../search/image.md).

```json
{
    "class": "Image",
    "vectorizer": "img2vec-neural",
    "vectorIndexConfig": {
        "distance": "cosine",
    },
    "moduleConfig": {
        "img2vec-neural": {
            "imageFields": [
                "image"
            ]
        }
    },
    "properties": [
        {
            "name": "image",
            "dataType": ["blob"]
        },
    ],
}
```

</details>

## Read all collection definitions

Fetch the database schema to retrieve all of the collection definitions.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START ReadAllCollections"
      endMarker="# END ReadAllCollections"
      language="py"
    />
  </TabItem>

  <TabItem value="py3" label="Python Client v3">
    <FilteredTextBlock
      text={PyCodeV3}
      startMarker="# START ReadAllCollections"
      endMarker="# END ReadAllCollections"
      language="pyv3"
    />
  </TabItem>

  <TabItem value="js" label="JS/TS Client v3">
    <FilteredTextBlock
      text={TSCode}
      startMarker="// START ReadAllCollections"
      endMarker="// END ReadAllCollections"
      language="ts"
    />
  </TabItem>

  <TabItem value="js2" label="JS/TS Client v2">
    <FilteredTextBlock
      text={TSCodeLegacy}
      startMarker="// START ReadAllCollections"
      endMarker="// END ReadAllCollections"
      language="tsv2"
    />
  </TabItem>

  <TabItem value="java" label="Java">
    <FilteredTextBlock
      text={JavaCode}
      startMarker="// START ReadAllCollections"
      endMarker="// END ReadAllCollections"
      language="java"
    />
  </TabItem>

  <TabItem value="go" label="Go">
    <FilteredTextBlock
      text={GoCode}
      startMarker="// START ReadAllCollections"
      endMarker="// END ReadAllCollections"
      language="go"
    />
  </TabItem>
</Tabs>

## Update a collection definition

<RaftRFChangeWarning/>

You can update a collection definition to change the [mutable collection settings](../config-refs/schema/index.md#mutability).

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START UpdateCollection"
      endMarker="# END UpdateCollection"
      language="py"
    />
  </TabItem>

  <TabItem value="py3" label="Python Client v3">
    <FilteredTextBlock
      text={PyCodeV3}
      startMarker="# START UpdateCollection"
      endMarker="# END UpdateCollection"
      language="pyv3"
    />
  </TabItem>

  <TabItem value="js" label="JS/TS Client v3">
    <FilteredTextBlock
      text={TSCode}
      startMarker="// START UpdateCollection"
      endMarker="// END UpdateCollection"
      language="ts"
    />
  </TabItem>

  <TabItem value="js2" label="JS/TS Client v2">
    <FilteredTextBlock
      text={TSCodeLegacy}
      startMarker="// START UpdateCollection"
      endMarker="// END UpdateCollection"
      language="tsv2"
    />
  </TabItem>

  <TabItem value="java" label="Java">

```java
// This feature is under development
```

  </TabItem>

  <TabItem value="go" label="Go">

```go
// This feature is under development
```

  </TabItem>
</Tabs>

## Update a parameter

Some parameters cannot be modified after you create your collection.

<Tabs groupId="languages">
  <TabItem value="py" label="Python Client v4">
    <FilteredTextBlock
      text={PyCode}
      startMarker="# START ModifyParam"
      endMarker="# END ModifyParam"
      language="py"
    />
  </TabItem>

  <TabItem value="py3" label="Python Client v3">
    <FilteredTextBlock
      text={PyCodeV3}
      startMarker="# START ModifyParam"
      endMarker="# END ModifyParam"
      language="pyv3"
    />
  </TabItem>

  <TabItem value="js" label="JS/TS Client v3">
    <FilteredTextBlock
      text={TSCode}
      startMarker="// START ModifyParam"
      endMarker="// END ModifyParam"
      language="ts"
    />
  </TabItem>

  <TabItem value="js2" label="JS/TS Client v2">

  ([Vote for the feature request.](https://github.com/weaviate/typescript-client/issues/72))

  </TabItem>
</Tabs>

## Delete a collection

import CautionSchemaDeleteClass from '/_includes/schema-delete-class.mdx'

<CautionSchemaDeleteClass />

## Add a property

<details>
  <summary>
    Indexing limitations after data import
  </summary>

There are no index limitations when you add collection properties before you import data.

If you add a new property after you import data, there is an impact on indexing.<br/><br/>

Property indexes are built at import time. If you add a new property after importing some data, pre-existing objects index aren't automatically updated to add the new property. This means pre-existing objects aren't added to the new property index. Queries may return unexpected results because the index only includes new objects.<br/><br/>

To create an index that includes all of the objects in a collection, do one of the following:

- New collections: Add all of the collection's properties before importing objects.
- Existing collections: Export the existing data from the collection. Re-create it with the new property. Import the data into the updated collection.

We are working on a re-indexing API to allow you to re-index the data after adding a property. This will be available in a future release.

</details>

import CodeSchemaAddProperties from '/_includes/code/schema.things.properties.add.mdx';

<CodeSchemaAddProperties />

## Inspect shards (for a collection)

An index itself can be comprised of multiple shards.

import CodeSchemaShardsGet from '/_includes/code/howto/manage-data.shards.inspect.mdx';

<CodeSchemaShardsGet />

## Update shard status

You can manually update a shard to change it's status. For example, update the shard status from `READONLY` to `READY` after you make other changes.

import CodeSchemaShardsUpdate from '/_includes/code/howto/manage-data.shards.update.mdx';

<CodeSchemaShardsUpdate />

## Further resources

### References

- [API References: REST: Schema](/developers/weaviate/api/rest#tag/schema/post/schema)
- [References: Configuration: Schema](/developers/weaviate/config-refs/schema)
- [Concepts: Data structure](../concepts/data.md)

### Background knowledge

- [Connect to Weaviate](/developers/weaviate/connections/index.mdx)
- [Tutorial: Schema](../starter-guides/schema.md)

## Questions and feedback

import DocsFeedback from '/_includes/docs-feedback.mdx';

<DocsFeedback/>
