---
title: Indexing
sidebar_position: 25
image: og/docs/indexing.jpg
---

The Weaviate vector database stores objects and vector representations of those objects (vectors). The objects and vectors are indexed to make searching efficient.

By default, Weaviate uses an uncompressed [Hierarchical Navigable Small World (HNSW)](/developers/weaviate/concepts/vector-index#hierarchical-navigable-small-world-hnsw-index) index to search the vectors.

In addition to the vectors, objects also have properties, and the properties have their own indexes. Property indexes are [inverted indexes](/developers/weaviate/more-resources/performance#inverted-index).

This page introduces the [vector indexes](#vector-indexes) and [property indexes](#property-indexes) that Weaviate uses.

## Vector indexes

There are two types of vector index, [HNSW](#hnsw-indexes) and [flat indexes](#flat-indexes). The [dynamic index](#dynamic-indexes) is a configuration option that lets you switch automatically from a flat index to an HNSW index when your collection reaches a certain size.

#### HNSW indexes

[HNSW](/developers/weaviate/concepts/vector-index#hierarchical-navigable-small-world-hnsw-index) is a search algorithm that works on multi-layered graphs. It is also an index type, and refers to vector indexes that are created using the HNSW algorithm. HNSW indexes enable very fast vector search queries.

HNSW indexes are resource intensive. Uncompressed vector indexes are large. Since HNSW indexes are in-memory indexes, they can use a lot of RAM. Consider using [compression](/developers/weaviate/starter-guides/compression) to reduce the memory requirements for your HNSW indexes. Weaviate offers several ways to compress your data:

import CompressionAlgorithms from '/_includes/starter-guides/compression-types.mdx';

<CompressionAlgorithm />

#### Flat indexes

[Flat indexes](/developers/weaviate/concepts/vector-index#flat-index) are disk based indexes. They work best when your collection is small. Flat indexes are ideally suited for multi-tenant configurations where there are many small collections rather than one large one.

Flat indexes have a configurable vector cache that can speed up flat index search.

[Binary Quantization (BQ)](/developers/weaviate/configuration/compression/bq-compression) is a compression algorithm that works very well with flat indexes. BQ reduces the size of the the index more than 90%. This size reduction also helps to speed search.

#### Dynamic indexes

[Dynamic indexes](/developers/weaviate/concepts/vector-index#dynamic-index) are new in v1.25. This type of index begins as a flat index when a collection is small. If the number of objects in the collection grows past a threshold amount, the collection is automatically reindexed and converted to an HNSW index.

The dynamic index only changes once. If the object count drops below the threshold size, the collection does not change back to a flat index.

The default threshold value to change from a flat index to an HNSW index is 10,000 objects.

This chart shows how a dynamic index changes as the number of objects in a collection grows. The chart assumes [compression](/developers/weaviate/starter-guides/compression) is enabled on the flat index and on the HNSW index.

| Number of objects | Index type | Compression | Notes |
| :- | :- | :- |
| 0 - 9,999 | Flat index | BQ | The index is on disk, BQ compression is active. |
| 10,000 | Conversion | None | The flat index converts to HNSW. The index is stored in RAM. |
| 100,000 | HNSW | Training | The collection has enough training data for PQ or SQ compression to start. |
| 100,001 | HNSW | SQ or PQ | Compression is active. |

## Property indexes

Keyword search, also known as BM25 search, uses an inverted index. Weaviate uses inverted indexes to search text properties quickly and to implement filtering during vector search.

### Collection level configuration

The inverted index is configurable on a collection level. The collection level settings determine how the index functions.

For details, see [set inverted index parameters](/developers/weaviate/manage-data/collections#set-inverted-index-parameters)

### Property level configuration

Property level configuration is more limited. Most importantly, individual indexes can be turned on or off at the property level.

The `indexFilterable` and `indexSearchable` settings enable fast keyword filters and searches. The `indexRangeFilters` setting improves numerical range queries when you have very large collections of numerical data.

The property level configuration is important when you add filters to your search query. Filters can narrow the scope of the vector search so the query returns more relevant answers.

For more on filters, see [Filtering](/developers/weaviate/concepts/prefiltering#indexfilterable-for-text-properties).

## Indexing considerations

- Indexing adds computational overhead that can slow down data imports. Starting in v1.22, [asynchronous indexing](/developers/weaviate/config-refs/schema/vector-index#asynchronous-indexing) allows you to begin working sooner while newly imported objects are indexed asynchronously in the background.

- If you don't need to search or filter on a property, consider turning indexing off to save space.

## Recommendations

- If your object count is low, consider a flat index. For larger data sets, use an HNSW index. Configure a dynamic index if you object count is low now but will grow.

- Uncompressed vector indexes can use significant resources. Consider using [compression](/developers/weaviate/starter-guides/compression) to minimize resource requirements. Compression helps to control costs and also gives you room to load more objects in memory.

- If you anticipate making range queries on numerical properties, enable the range filter index.

- If you don't anticipate querying a property, consider turning off indexing to conserve space.

## Related pages

For more information, see these documentation pages and blog posts.

### Documentation pages

To configure indexing, follow the steps on these pages:

[Configure vector indexes](/developers/weaviate/config-refs/schema/vector-index)
[Configure inverted indexes](/developers/weaviate/manage-data/collections#set-inverted-index-parameters)

For more documentation details, see:

[Vector indexing](/developers/weaviate/concepts/vector-index)
[Inverted indexes](/developers/weaviate/concepts/indexing)

### Weaviate academy

For a short course on vector indexes, see:

[Vector indexing](/developers/academy/py/vector_index)

## Questions and feedback

import DocsFeedback from '/_includes/docs-feedback.mdx';

<DocsFeedback/>