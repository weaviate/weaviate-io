---
title: Bring your own vectors
sidebar_position: 40
image: og/docs/tutorials.jpg
# tags: ['getting started']
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import FilteredTextBlock from '@site/src/components/Documentation/FilteredTextBlock';
import Py4Code from '!!raw-loader!/_includes/code/starter-guides/custom-vectors-py4.py';
import Py3Code from '!!raw-loader!/_includes/code/starter-guides/custom-vectors-py3.py';
import Ts3Code from '!!raw-loader!/_includes/code/starter-guides/custom-vectors-ts3.ts';
import Ts2Code from '!!raw-loader!/_includes/code/starter-guides/custom-vectors-ts2.ts';

Weaviate is a vector database. [Vector databases](/blog/vector-library-vs-vector-database) store data objects and vectors that represent those objects. When you import a data object, you normally include a vector representation of that object as well. The vector representation is also called an "embedding."

Later, when you work with the stored vectors, Weaviate uses a vectorized version of your query to search the vector space.

This guide discusses importing data that already has vectors. An alternative approach is to use a [vectorizer](../modules/retriever-vectorizer-modules/index.md) model that generates vectors at import time. Queries have to be vectorized using the same vectorizer as the data objects. When you define your collection schema, be sure to define the same vectorizer that you use to vectorize the data.

Weaviate supports embeddings generated by popular third party services and custom vector embeddings that you create. For details on how to connect your client application to a vectorizer, see the follow pages:

- [Supported models](/developers/weaviate/modules/retriever-vectorizer-modules)
- [Custom models](/developers/weaviate/modules/other-modules/custom-modules)

## Guide outline

This guide uses a free sandbox in [Weaviate Cloud](/developers/wcs/sandbox). If you don't have a Weaviate Cloud account, you can [create one](/developers/wcs/create-account) or else follow along on a Weaviate instance of your own.

Follow these steps to import data that includes vectors.

1. [Create a sandbox instance](create-a-sandbox-instance)
1. [Connect to your sandbox](connect-to-your-sandbox)
1. [Prepare the collection](prepare-the-collection)
1. [Import the data](import-the-data)

## Create a sandbox instance

Follow these steps to create a sandbox instance.

### Login to Weaviate Cloud

1. Open the [WCS login page](https://console.weaviate.cloud/) in a browser.
1. Click `Login to Weaviate Cloud Services`.
1. Enter your email address and password to authenticate.

### Create a sandbox cluster

To create a cluster, click the 'Create cluster' button on the WCS Dashboard page.

import CreateClusterButton from '/developers/wcs/img/wcs-create-cluster-button.jpg';

<center><img src={CreateClusterButton} width="75%" alt="Create cluster button"/></center>

import CreateSandboxCluster from '/_includes/wcs/create-cluster-sandbox.mdx'

<CreateSandboxCluster />

## Connect to your sandbox

Follow these steps to connect to your sandbox instance.

### Get the connection details

To connect to your sandbox instance, you need the following information:

- The Weaviate sandbox URL
- The Weaviate sandbox API key

To get the cluster URL and authentication details, follow these steps:

1. Click the `Details` button to open the Details panel.

import DetailsButton from '/developers/wcs/img/wcs-details-icon.jpg';

<center><img src={DetailsButton} width="75%" alt="Details button"/></center>

Copy the REST endpoint.

import RESTEndPoint from '/developers/wcs/img/wcs-rest-endpoint.jpg';

<center><img src={RESTEndPoint} width="75%" alt="Details button"/></center>

2. To get the API keys, click the `API keys` button.

import DetailsAPIKey from '/developers/wcs/img/wcs-console-details-api-key.jpg';

<center><img src={DetailsAPIKey} width="75%" alt="Details API Key"/></center>

Copy the Weaviate API key.

### Connect to a Weaviate instance

To connect to your sandbox, edit this sample code to use your Weaviate sandbox URL and your Weaviate API key. You will use this client later when you upload your data.

This guide demonstrates how import data objects that already have vectors. If you import data that has to be vectorized, your client connection code should also [include the API key](/developers/weaviate/starter-guides/connect#third-party-api-keys) for the vectorizer API.

import ConnectToWeaviate from '/_includes/code/quickstart/connect.noheader.mdx'

<ConnectToWeaviate />

## Prepare the collection

Weaviate stores [data](../concepts/data.md) in collections. Each object has a set of properties and a vector representation. Before you import data, you should create a [collection schema](/developers/weaviate/config-refs/schema) to define collection properties and the vectorizer. Vectorizers are defined at the collection level. You can also define specific details at the property level.

When you import data objects that don't have vectors, Weaviate uses the vectorizer details to create vectors at import time. If the imported data objects do have vectors, Weaviate uses those vectors instead of generating new ones.

The vectorizer that you specify in the collection schema must be the same vectorizer that you use to vectorize the data objects. If the vectorizers are different, vector search results are meaningless.

import CreateSchema from '/_includes/code/quickstart.byov.schema.mdx'

<CreateSchema />

### Create a collection schema

Collection schemas are highly configurable. If you don't provide values for all of the parameters, the auto-schema feature attempts to provide the missing values during import.

In this example, the vectors are generated by an OpenAI model, `ada-002`. Weaviate provides a module, `text2vec-openai`, that can access the OpenAI model so the schema definition specifies the `text2vec-openai` vectorizer.

<Tabs groupId="collectionSchema">
   <TabItem value="py4" label="Python Client v4">
      <FilteredTextBlock
         text={Py4Code}
         startMarker="# START create schema"
         endMarker="# END create schema"
         language="py"
      />
   </TabItem>
   <TabItem value="py3" label="Python Client v3">
      <FilteredTextBlock
         text={Py3Code}
         startMarker="# START create schema"
         endMarker="# END create schema"
         language="py"
      />
   </TabItem>
   <TabItem value="ts3" label="TypeScript Client v3">
      <FilteredTextBlock
         text={Ts3Code}
         startMarker="# START create schema"
         endMarker="# END create schema"
         language="py"
      />
   </TabItem>
   <TabItem value="ts3" label="TypeScript Client v3">
      <FilteredTextBlock
         text={Ts3Code}
         startMarker="# START create schema"
         endMarker="# END create schema"
         language="py"
      />
   </TabItem>
</Tabs>

## Import the data

### Prepare a data file
### Import the data
### Query the data










## Data

We'll use as an example a tiny dataset consisting of 10 questions from the popular quiz show "Jeopardy!". Each object has an associated vector embedding.

In this example, these vectors were obtained through an OpenAI API, using the <nobr>[`text-embedding-ada-002` model](https://platform.openai.com/docs/guides/embeddings/what-are-embeddings)</nobr>. But your vectors can come from any source, such as another inference service provider (e.g Cohere or Hugging Face) or your own fine-tuned model.

<details>
  <summary>Take a look at the dataset</summary>

  |    | Category   | Question                                                                                                          | Answer                  | Vector                                             |
  |---:|:-----------|:------------------------------------------------------------------------------------------------------------------|:------------------------| ---------------------------------------------------|
  |  0 | SCIENCE    | This organ removes excess glucose from the blood & stores it as glycogen                                          | Liver                   | [ -0.006632288, -0.0042016874, ..., -0.020163147 ] |
  |  1 | ANIMALS    | It's the only living mammal in the order Proboseidea                                                              | Elephant                | [ -0.0166891, -0.00092290324, ..., -0.032253385 ]  |
  |  2 | ANIMALS    | The gavial looks very much like a crocodile except for this bodily feature                                        | the nose or snout       | [ -0.015592773, 0.019883318, ..., 0.0033349802 ]   |
  |  3 | ANIMALS    | Weighing around a ton, the eland is the largest species of this animal in Africa                                  | Antelope                | [ 0.014535263, -0.016103541, ..., -0.025882969 ]   |
  |  4 | ANIMALS    | Heaviest of all poisonous snakes is this North American rattlesnake                                               | the diamondback rattler | [ -0.0030859283, 0.015239313, ..., -0.021798335 ]  |
  |  5 | SCIENCE    | 2000 news: the Gunnison sage grouse isn't just another northern sage grouse, but a new one of this classification | species                 | [ -0.0090561025, 0.011155112, ..., -0.023036297 ]  |
  |  6 | SCIENCE    | A metal that is "ductile" can be pulled into this while cold & under pressure                                     | wire                    | [ -0.02735741, 0.01199829, ..., 0.010396339 ]      |
  |  7 | SCIENCE    | In 1953 Watson & Crick built a model of the molecular structure of this, the gene-carrying substance              | DNA                     | [ -0.014227471, 0.020493254, ..., -0.0027445166 ]  |
  |  8 | SCIENCE    | Changes in the tropospheric layer of this are what gives us weather                                               | the atmosphere          | [ 0.009625228, 0.027518686, ..., -0.0068922946 ]   |
  |  9 | SCIENCE    | In 70-degree air, a plane traveling at about 1,130 feet per second breaks it                                      | Sound barrier           | [ -0.0013459147, 0.0018580769, ..., -0.033439033 ] |

</details>


## Client library

For JavaScript/TypeScript, we'll also need the `node-fetch` library to download the dataset, so make sure to `npm install node-fetch`.


## Import data with vectors

Here is the set of [10 pre-vectorized Jeopardy questions](https://raw.githubusercontent.com/weaviate-tutorials/quickstart/main/data/jeopardy_tiny+vectors.json) in JSON format.

The following will load the question objects with vectors, and import them to Weaviate.

Note that we use a batch import process, so that each request to the inference API contains multiple objects. You should use batch imports unless you have a good reason not to, as it will significantly improve the speed of data ingestion.

import ImportQuestionsWithVectors from '/_includes/code/quickstart.import.questions+vectors.mdx'

<ImportQuestionsWithVectors />

:::tip vector != object property
Do *not* specify object vectors as an object property. This will cause Weaviate to treat it as a regular property, rather than as a vector embedding.
:::

## Query

Let's say you want to find questions related to biology. We can do that by obtaining a vector embedding for "biology", and finding objects nearest to it.
In this example, we've used the OpenAI API to generate it, with the same [`text-embedding-ada-002` model](https://platform.openai.com/docs/guides/embeddings/what-are-embeddings). Then, in the following query, we pass that vector to the [`nearVector` operator](../api/graphql/search-operators.md#nearvector):

import NearVector from '/_includes/code/quickstart.query.nearVector.mdx';

<NearVector />

You should see something like this:

import BiologyQuestionsJson from '/_includes/code/quickstart/response.biology.questions.mdx';

<BiologyQuestionsJson />

## Client libraries

This guide assumes that you have a Weaviate client library installed. If you have not installed one of the client libraries, follow the instructions for your language:

import CodeClientInstall from '/_includes/code/quickstart/clients.install.mdx';

<CodeClientInstall />

## Questions and feedback

import DocsFeedback from '/_includes/docs-feedback.mdx';

<DocsFeedback/>
